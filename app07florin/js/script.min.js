var websocket,gateway=`ws://${window.location.hostname}/ws`;function initWebSocket(){console.log("Trying to open a WebSocket connection..."),(websocket=new WebSocket(gateway)).onopen=onOpen,websocket.onclose=onClose,websocket.onmessage=onMessage}function onOpen(e){console.log("Connection opened")}function onClose(e){console.log("Connection closed"),setTimeout(initWebSocket,2e3)}function initWebSocket(){console.log("Trying to open a WebSocket connection..."),(websocket=new WebSocket(gateway)).onopen=onOpen,websocket.onclose=onClose,websocket.onmessage=onMessage}function onMessage(e){let n=JSON.parse(e.data);document.getElementById("cMillis").innerText=n.live.cMs}function initButton(){}function toggle(){let e=JSON.stringify({live:{toggle:"1"},settings:{ssid:"cacat",sspass:"muie"}});websocket.send(e)}function force_update(){console.log("update..")}function createZonehtml(){let e=document.getElementById("idRowContainer"),n=[];for(let e=0;e<15;e++)n.push('<div class="col-sm-6 col-md-4 mb-4">'),n.push('<div class="card lcd_style">'),n.push('<div class="card-body mb-0 p-0">'),n.push('<i class="fa fa-fire lcd_icon mr-2 d-none" id="idHeatOn-Zone'+e.toString()+'"></i>'),n.push('<h4 class="card-title lcd_font1 m-0 text-center" id="idRoomTemp-Zone'+e.toString()+'">%ZONE'+e.toString()+"_TEMP%</h4>"),n.push('<h3 class="mb-0 lcd_font2">%ZONE'+e+"_NAME%</h3>"),n.push('<h3 id="idCurSetTemp-Zone'+e+'" class="mb-0 lcd_font3">%ZONE'+e.toString()+"_SETTEMP%</h3>"),n.push('<i class="fa fa-backward icon_arrow_left" id="idTempDown-Zone'+e.toString()+'"></i>'),n.push('<i class="fa fa-forward icon_arrow_right" id="idTempUp-Zone'+e.toString()+'"></i>'),n.push("</div></div></div>");e.innerHTML=n.join(""),n=null;for(let e=0;e<15;e++){let n="idTempDown-Zone"+e.toString(),o="idCurSetTemp-Zone"+e.toString();document.getElementById(n).addEventListener("click",(function(e){let n=document.getElementById(o),t=parseFloat(n.innerHTML)-.5;t<5&&(t=5),n.innerHTML=t.toFixed(1).toString(),force_update()}));let t="idTempUp-Zone"+e.toString();document.getElementById(t).addEventListener("click",(function(e){let n=document.getElementById(o),t=parseFloat(n.innerHTML)+.5;t>35&&(t=35),n.innerHTML=t.toFixed(1).toString(),force_update()}))}}$((function(){setTimeout((function(){}),1e3)})),$(document).ready((function(){createZonehtml(),initWebSocket(),initButton()}));
