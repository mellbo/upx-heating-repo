var websocket,gateway=`ws://${window.location.hostname}/ws`;function initWebSocket(){console.log("Trying to open a WebSocket connection..."),(websocket=new WebSocket(gateway)).onopen=onOpen,websocket.onclose=onClose,websocket.onmessage=onMessage}function onOpen(e){console.log("Connection opened")}function onClose(e){console.log("Connection closed"),setTimeout(initWebSocket,2e3)}function initWebSocket(){console.log("Trying to open a WebSocket connection..."),(websocket=new WebSocket(gateway)).onopen=onOpen,websocket.onclose=onClose,websocket.onmessage=onMessage}function onMessage(e){let n=JSON.parse(e.data);document.getElementById("cMillis").innerText=n.live.cMs,document.getElementById("state").innerText=n.live.ledState}function initButton(){document.getElementById("button").addEventListener("click",toggle)}function toggle(){let e=JSON.stringify({live:{toggle:"1"},settings:{ssid:"cacat",sspass:"muie"}});websocket.send(e)}function toNumberString(e){return Number.isInteger(e)?e+".0":e.toString()}function createZonehtml(){let e=document.getElementById("idRowContainer"),n=[];for(i=0;i<15;i++)n.push('<div class="col-sm-6 col-md-4 mb-4">'),n.push('<div class="card lcd_style">'),n.push('<div class="card-body mb-0 p-0">'),n.push('<i class="fa fa-fire lcd_icon mr-2 d-none" id="idHeatOn-Zone'+i+'"></i>'),n.push('<h4 class="card-title lcd_font1 m-0 text-center" id="idRoomTemp-Zone'+i+'">%ZONE'+i+"_TEMP%</h4>"),n.push('<h3 class="mb-0 lcd_font2">%ZONE'+i+"_NAME%</h3>"),n.push('<h3 id="idCurSetTemp-Zone'+i+'" class="mb-0 lcd_font3">%ZONE'+i+"_SETTEMP%</h3>"),n.push('<i class="fa fa-backward icon_arrow_left" id="idTempDown-Zone'+i+'"></i>'),n.push('<i class="fa fa-forward icon_arrow_right" id="idTempUp-Zone'+i+'"></i>'),n.push("</div></div></div>"),document.getElementById("idTempDown-Zone"+i.toString()).addEventListener("click",(function(e){let n=document.getElementById("idCurSetTemp-Zone"+i),o=parseFloat(n.innerHTML).toFixed(1)+.5;n.innerHTML=toNumberString(o)}));e.innerHTML=n.join(""),n=null}$((function(){setTimeout((function(){}),1e3)})),$(document).ready((function(){createZonehtml(),initWebSocket(),initButton()}));